{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\madhu\\\\OneDrive\\\\Desktop\\\\FreshField (2)\\\\FreshField\\\\FreshField\\\\src\\\\components\\\\OrderTrackingDemo.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport OrderStatusStepper from './OrderStatusStepper';\nimport DeliveryAgentCard from './DeliveryAgentCard';\nimport ETA from './ETA';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ORDER_STATUSES = [{\n  label: 'Placed',\n  icon: 'ðŸ“'\n}, {\n  label: 'Packed',\n  icon: 'ðŸ“¦'\n}, {\n  label: 'Out for Delivery',\n  icon: 'ðŸšš'\n}, {\n  label: 'Delivered',\n  icon: 'âœ…'\n}];\nconst AGENT = {\n  name: 'Ravi Kumar',\n  phone: '+91 98765 43210',\n  photo: 'https://randomuser.me/api/portraits/men/32.jpg'\n};\nconst USER_LOCATION = {\n  lat: 28.6139,\n  lng: 77.2090\n}; // New Delhi\nconst AGENT_START = {\n  lat: 28.62,\n  lng: 77.21\n};\nconst AGENT_END = USER_LOCATION;\nfunction interpolateLocation(start, end, t) {\n  return {\n    lat: start.lat + (end.lat - start.lat) * t,\n    lng: start.lng + (end.lng - start.lng) * t\n  };\n}\nexport default function OrderTrackingDemo() {\n  _s();\n  const [status, setStatus] = useState(0);\n  const [agentLocation, setAgentLocation] = useState(AGENT_START);\n  const [eta, setEta] = useState(20 * 60); // 20 min in seconds\n  const mapRef = useRef();\n  const agentMarkerRef = useRef();\n  const userMarkerRef = useRef();\n  const routeRef = useRef();\n\n  // Simulate order status and agent movement\n  useEffect(() => {\n    let statusTimer, moveTimer, etaTimer;\n    let t = 0;\n    statusTimer = setInterval(() => {\n      setStatus(s => {\n        if (s < 3) {\n          toast.success(`Order status updated: ${ORDER_STATUSES[s + 1].label}`);\n          return s + 1;\n        }\n        clearInterval(statusTimer);\n        return s;\n      });\n    }, 7000);\n    moveTimer = setInterval(() => {\n      t += 0.025;\n      if (t > 1) t = 1;\n      setAgentLocation(interpolateLocation(AGENT_START, AGENT_END, t));\n      if (t === 1) clearInterval(moveTimer);\n    }, 1000);\n    etaTimer = setInterval(() => setEta(e => e > 0 ? e - 1 : 0), 1000);\n    return () => {\n      clearInterval(statusTimer);\n      clearInterval(moveTimer);\n      clearInterval(etaTimer);\n    };\n  }, []);\n\n  // Google Maps rendering\n  useEffect(() => {\n    if (!window.google) return;\n    const map = new window.google.maps.Map(mapRef.current, {\n      center: agentLocation,\n      zoom: 14,\n      disableDefaultUI: true\n    });\n    // User marker\n    userMarkerRef.current = new window.google.maps.Marker({\n      position: USER_LOCATION,\n      map,\n      label: 'You',\n      icon: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'\n    });\n    // Agent marker\n    agentMarkerRef.current = new window.google.maps.Marker({\n      position: agentLocation,\n      map,\n      label: 'Agent',\n      icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'\n    });\n    // Route line\n    routeRef.current = new window.google.maps.Polyline({\n      path: [agentLocation, USER_LOCATION],\n      geodesic: true,\n      strokeColor: '#7FB069',\n      strokeOpacity: 1.0,\n      strokeWeight: 4,\n      map\n    });\n    return () => {\n      userMarkerRef.current && userMarkerRef.current.setMap(null);\n      agentMarkerRef.current && agentMarkerRef.current.setMap(null);\n      routeRef.current && routeRef.current.setMap(null);\n    };\n  }, [agentLocation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrderStatusStepper, {\n      status: status,\n      statuses: ORDER_STATUSES\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row gap-6 mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(DeliveryAgentCard, {\n          agent: AGENT\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ETA, {\n          seconds: eta\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-xl overflow-hidden shadow\",\n          style: {\n            height: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: mapRef,\n            style: {\n              width: '100%',\n              height: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderTrackingDemo, \"NAj7PTbdtAGxw/LdZdKamO8qrmE=\");\n_c = OrderTrackingDemo;\nvar _c;\n$RefreshReg$(_c, \"OrderTrackingDemo\");","map":{"version":3,"names":["React","useEffect","useRef","useState","OrderStatusStepper","DeliveryAgentCard","ETA","toast","Toaster","jsxDEV","_jsxDEV","ORDER_STATUSES","label","icon","AGENT","name","phone","photo","USER_LOCATION","lat","lng","AGENT_START","AGENT_END","interpolateLocation","start","end","t","OrderTrackingDemo","_s","status","setStatus","agentLocation","setAgentLocation","eta","setEta","mapRef","agentMarkerRef","userMarkerRef","routeRef","statusTimer","moveTimer","etaTimer","setInterval","s","success","clearInterval","e","window","google","map","maps","Map","current","center","zoom","disableDefaultUI","Marker","position","Polyline","path","geodesic","strokeColor","strokeOpacity","strokeWeight","setMap","className","children","fileName","_jsxFileName","lineNumber","columnNumber","statuses","agent","seconds","style","height","ref","width","_c","$RefreshReg$"],"sources":["C:/Users/madhu/OneDrive/Desktop/FreshField (2)/FreshField/FreshField/src/components/OrderTrackingDemo.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport OrderStatusStepper from './OrderStatusStepper';\r\nimport DeliveryAgentCard from './DeliveryAgentCard';\r\nimport ETA from './ETA';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nconst ORDER_STATUSES = [\r\n  { label: 'Placed', icon: 'ðŸ“' },\r\n  { label: 'Packed', icon: 'ðŸ“¦' },\r\n  { label: 'Out for Delivery', icon: 'ðŸšš' },\r\n  { label: 'Delivered', icon: 'âœ…' }\r\n];\r\n\r\nconst AGENT = {\r\n  name: 'Ravi Kumar',\r\n  phone: '+91 98765 43210',\r\n  photo: 'https://randomuser.me/api/portraits/men/32.jpg'\r\n};\r\n\r\nconst USER_LOCATION = { lat: 28.6139, lng: 77.2090 }; // New Delhi\r\nconst AGENT_START = { lat: 28.62, lng: 77.21 };\r\nconst AGENT_END = USER_LOCATION;\r\n\r\nfunction interpolateLocation(start, end, t) {\r\n  return {\r\n    lat: start.lat + (end.lat - start.lat) * t,\r\n    lng: start.lng + (end.lng - start.lng) * t,\r\n  };\r\n}\r\n\r\nexport default function OrderTrackingDemo() {\r\n  const [status, setStatus] = useState(0);\r\n  const [agentLocation, setAgentLocation] = useState(AGENT_START);\r\n  const [eta, setEta] = useState(20 * 60); // 20 min in seconds\r\n  const mapRef = useRef();\r\n  const agentMarkerRef = useRef();\r\n  const userMarkerRef = useRef();\r\n  const routeRef = useRef();\r\n\r\n  // Simulate order status and agent movement\r\n  useEffect(() => {\r\n    let statusTimer, moveTimer, etaTimer;\r\n    let t = 0;\r\n    statusTimer = setInterval(() => {\r\n      setStatus((s) => {\r\n        if (s < 3) {\r\n          toast.success(`Order status updated: ${ORDER_STATUSES[s+1].label}`);\r\n          return s + 1;\r\n        }\r\n        clearInterval(statusTimer);\r\n        return s;\r\n      });\r\n    }, 7000);\r\n    moveTimer = setInterval(() => {\r\n      t += 0.025;\r\n      if (t > 1) t = 1;\r\n      setAgentLocation(interpolateLocation(AGENT_START, AGENT_END, t));\r\n      if (t === 1) clearInterval(moveTimer);\r\n    }, 1000);\r\n    etaTimer = setInterval(() => setEta((e) => (e > 0 ? e - 1 : 0)), 1000);\r\n    return () => {\r\n      clearInterval(statusTimer);\r\n      clearInterval(moveTimer);\r\n      clearInterval(etaTimer);\r\n    };\r\n  }, []);\r\n\r\n  // Google Maps rendering\r\n  useEffect(() => {\r\n    if (!window.google) return;\r\n    const map = new window.google.maps.Map(mapRef.current, {\r\n      center: agentLocation,\r\n      zoom: 14,\r\n      disableDefaultUI: true,\r\n    });\r\n    // User marker\r\n    userMarkerRef.current = new window.google.maps.Marker({\r\n      position: USER_LOCATION,\r\n      map,\r\n      label: 'You',\r\n      icon: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',\r\n    });\r\n    // Agent marker\r\n    agentMarkerRef.current = new window.google.maps.Marker({\r\n      position: agentLocation,\r\n      map,\r\n      label: 'Agent',\r\n      icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',\r\n    });\r\n    // Route line\r\n    routeRef.current = new window.google.maps.Polyline({\r\n      path: [agentLocation, USER_LOCATION],\r\n      geodesic: true,\r\n      strokeColor: '#7FB069',\r\n      strokeOpacity: 1.0,\r\n      strokeWeight: 4,\r\n      map,\r\n    });\r\n    return () => {\r\n      userMarkerRef.current && userMarkerRef.current.setMap(null);\r\n      agentMarkerRef.current && agentMarkerRef.current.setMap(null);\r\n      routeRef.current && routeRef.current.setMap(null);\r\n    };\r\n  }, [agentLocation]);\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto p-4\">\r\n      <Toaster />\r\n      <OrderStatusStepper status={status} statuses={ORDER_STATUSES} />\r\n      <div className=\"flex flex-col md:flex-row gap-6 mt-8\">\r\n        <div className=\"flex-1 space-y-6\">\r\n          <DeliveryAgentCard agent={AGENT} />\r\n          <ETA seconds={eta} />\r\n        </div>\r\n        <div className=\"flex-1\">\r\n          <div className=\"rounded-xl overflow-hidden shadow\" style={{ height: 300 }}>\r\n            <div ref={mapRef} style={{ width: '100%', height: '100%' }} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}